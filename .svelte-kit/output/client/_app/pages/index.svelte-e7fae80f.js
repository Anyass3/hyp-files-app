import{S as e,i as r,s as t,e as a,t as s,k as l,c,a as n,g as i,d as o,n as d,b as u,D as h,f,E as g,U as v,Q as p,$ as m,a8 as b,h as x,G as k,R as y,H as E,j as $,a9 as D,m as w,o as I,x as T,u as V,v as B}from"../chunks/vendor-51b7d296.js";import{S as N}from"../chunks/storage-select-7f98a06b.js";import{s as U}from"../chunks/index-16bd9a46.js";import"../chunks/singletons-bb9012b7.js";import"../chunks/getAPi-d548b28c.js";function O(e){let r,t,h,p,x,k,y,E,$,D,w,I,T,V,B;return{c(){r=a("div"),t=a("label"),h=s("Drive Name"),p=a("br"),x=l(),k=a("input"),y=l(),E=a("div"),$=a("label"),D=s("Drive Key"),w=a("br"),I=l(),T=a("input"),this.h()},l(e){r=c(e,"DIV",{class:!0});var a=n(r);t=c(a,"LABEL",{class:!0,for:!0});var s=n(t);h=i(s,"Drive Name"),s.forEach(o),p=c(a,"BR",{}),x=d(a),k=c(a,"INPUT",{id:!0,class:!0,placeholder:!0}),a.forEach(o),y=d(e),E=c(e,"DIV",{class:!0});var l=n(E);$=c(l,"LABEL",{class:!0,for:!0});var u=n($);D=i(u,"Drive Key"),u.forEach(o),w=c(l,"BR",{}),I=d(l),T=c(l,"INPUT",{id:!0,class:!0,placeholder:!0}),l.forEach(o),this.h()},h(){u(t,"class","  "),u(t,"for","input#name"),u(k,"id","name"),u(k,"class","dark:ring-gray-400 svelte-1cs84u2"),u(k,"placeholder","awesome"),u(r,"class",""),u($,"class","  "),u($,"for","input#key"),u(T,"id","key"),u(T,"class","dark:ring-gray-400 svelte-1cs84u2"),u(T,"placeholder","[a-z0-9]{64}"),u(E,"class","")},m(a,s){f(a,r,s),g(r,t),g(t,h),g(r,p),g(r,x),g(r,k),b(k,e[1]),f(a,y,s),f(a,E,s),g(E,$),g($,D),g(E,w),g(E,I),g(E,T),b(T,e[0]),V||(B=[v(k,"input",e[9]),v(T,"input",e[10])],V=!0)},p(e,r){2&r&&k.value!==e[1]&&b(k,e[1]),1&r&&T.value!==e[0]&&b(T,e[0])},d(e){e&&o(r),e&&o(y),e&&o(E),V=!1,m(B)}}}function j(e){let r,t,h,p,x,k,y,E,$,D,w,I,T,V,B;return{c(){r=a("div"),t=a("label"),h=s("Drive Name"),p=a("br"),x=l(),k=a("input"),y=l(),E=a("div"),$=a("label"),D=s("never replicate"),w=a("br"),I=l(),T=a("input"),this.h()},l(e){r=c(e,"DIV",{class:!0});var a=n(r);t=c(a,"LABEL",{class:!0,for:!0});var s=n(t);h=i(s,"Drive Name"),s.forEach(o),p=c(a,"BR",{}),x=d(a),k=c(a,"INPUT",{id:!0,class:!0,placeholder:!0}),a.forEach(o),y=d(e),E=c(e,"DIV",{class:!0});var l=n(E);$=c(l,"LABEL",{class:!0,for:!0});var u=n($);D=i(u,"never replicate"),u.forEach(o),w=c(l,"BR",{}),I=d(l),T=c(l,"INPUT",{id:!0,type:!0,class:!0,placeholder:!0}),l.forEach(o),this.h()},h(){u(t,"class","  "),u(t,"for","input#name"),u(k,"id","name"),u(k,"class","dark:ring-gray-400 svelte-1cs84u2"),u(k,"placeholder","awesome"),u(r,"class",""),u($,"class","  "),u($,"for","input#key"),u(T,"id","key"),u(T,"type","checkbox"),u(T,"class","dark:ring-gray-400 svelte-1cs84u2"),u(T,"placeholder","[a-z0-9]{64}"),u(E,"class","")},m(a,s){f(a,r,s),g(r,t),g(t,h),g(r,p),g(r,x),g(r,k),b(k,e[1]),f(a,y,s),f(a,E,s),g(E,$),g($,D),g(E,w),g(E,I),g(E,T),b(T,e[0]),V||(B=[v(k,"input",e[7]),v(T,"change",e[8])],V=!0)},p(e,r){2&r&&k.value!==e[1]&&b(k,e[1]),1&r&&b(T,e[0])},d(e){e&&o(r),e&&o(y),e&&o(E),V=!1,m(B)}}}function L(e){let r,t,b,x,k,y,E,$,D,w,I,T,V,B,N,U,L,A;function H(e,r){return e[2]?j:O}let M=H(e),S=M(e);return{c(){r=a("div"),t=a("div"),b=a("button"),x=s("connect"),k=l(),y=a("button"),E=s("new"),$=l(),D=a("div"),S.c(),w=l(),I=a("div"),T=a("button"),V=s("Add Drive"),B=l(),N=a("button"),U=s("Connect Drive"),this.h()},l(e){r=c(e,"DIV",{});var a=n(r);t=c(a,"DIV",{class:!0});var s=n(t);b=c(s,"BUTTON",{class:!0});var l=n(b);x=i(l,"connect"),l.forEach(o),k=d(s),y=c(s,"BUTTON",{class:!0});var u=n(y);E=i(u,"new"),u.forEach(o),s.forEach(o),$=d(a),D=c(a,"DIV",{class:!0});var h=n(D);S.l(h),h.forEach(o),w=d(a),I=c(a,"DIV",{class:!0});var f=n(I);T=c(f,"BUTTON",{class:!0});var g=n(T);V=i(g,"Add Drive"),g.forEach(o),B=d(f),N=c(f,"BUTTON",{class:!0});var v=n(N);U=i(v,"Connect Drive"),v.forEach(o),f.forEach(o),a.forEach(o),this.h()},h(){u(b,"class","btn uppercase svelte-1cs84u2"),h(b,"active",!e[2]),u(y,"class","btn uppercase svelte-1cs84u2"),h(y,"active",e[2]),u(t,"class","flex gap-2"),u(D,"class","flex gap-2 flex-wrap"),u(T,"class","text-white mr-1 p-2 rounded-md text-xl active:ring ring-blue-500 dark:ring-gray-500  bg-blue-600 dark:bg-gray-600"),u(N,"class","text-white mr-1 p-2  rounded-md text-xl active:ring ring-blue-500 dark:ring-gray-500  bg-blue-600 dark:bg-gray-600"),u(I,"class","flex pt-1")},m(a,s){f(a,r,s),g(r,t),g(t,b),g(b,x),g(t,k),g(t,y),g(y,E),g(r,$),g(r,D),S.m(D,null),g(r,w),g(r,I),g(I,T),g(T,V),g(I,B),g(I,N),g(N,U),L||(A=[v(b,"click",e[5]),v(y,"click",e[6]),v(T,"click",e[11]),v(N,"click",e[12])],L=!0)},p(e,[r]){4&r&&h(b,"active",!e[2]),4&r&&h(y,"active",e[2]),M===(M=H(e))&&S?S.p(e,r):(S.d(1),S=M(e),S&&(S.c(),S.m(D,null)))},i:p,o:p,d(e){e&&o(r),S.d(),L=!1,m(A)}}}function A(e,r,t){const a=U.g("socket");let s,l;const c=()=>{t(1,l=""),t(0,s="")};c();let n=!0;return[s,l,n,a,c,()=>t(2,n=!1),()=>t(2,n=!0),function(){l=this.value,t(1,l)},function(){s=this.value,t(0,s)},function(){l=this.value,t(1,l)},function(){s=this.value,t(0,s)},()=>{a.signal("add-drive",{name:l,key:s}),c()},()=>{a.signal("connect-drive",{name:l,key:s}),c()}]}class H extends e{constructor(e){super(),r(this,e,A,L,t,{})}}function M(e,r,t){const a=e.slice();return a[12]=r[t].name,a[13]=r[t].key,a[14]=r[t].host,a}function S(e,r,t){const a=e.slice();return a[12]=r[t].name,a[13]=r[t].key,a[17]=r[t].connected,a[14]=r[t].host,a}function P(e){let r,t,l,d;function h(){return e[7](e[13],e[12])}return{c(){r=a("button"),t=s("delete"),this.h()},l(e){r=c(e,"BUTTON",{class:!0});var a=n(r);t=i(a,"delete"),a.forEach(o),this.h()},h(){u(r,"class","bg-red-200 p-1 mx-1 active:ring-1 rounded-md text-red-700")},m(e,a){f(e,r,a),g(r,t),l||(d=v(r,"click",h),l=!0)},p(r,t){e=r},d(e){e&&o(r),l=!1,d()}}}function R(e){let r,t,h,p,m,b,x;function k(){return e[9](e[13],e[12],e[14])}return{c(){r=a("button"),t=s("on"),h=l(),p=a("button"),m=s("not connected"),this.h()},l(e){r=c(e,"BUTTON",{class:!0});var a=n(r);t=i(a,"on"),a.forEach(o),h=d(e),p=c(e,"BUTTON",{class:!0});var s=n(p);m=i(s,"not connected"),s.forEach(o),this.h()},h(){u(r,"class","bg-green-200 p-1 mx-1 active:ring-1 rounded-md text-green-700"),u(p,"class","bg-red-200 p-1 rounded-sm text-red-700")},m(e,a){f(e,r,a),g(r,t),f(e,h,a),f(e,p,a),g(p,m),b||(x=v(r,"click",k),b=!0)},p(r,t){e=r},d(e){e&&o(r),e&&o(h),e&&o(p),b=!1,x()}}}function C(e){let r,t,h,p,m,b,x;function k(){return e[8](e[13],e[12])}return{c(){r=a("button"),t=s("off"),h=l(),p=a("button"),m=s("connected"),this.h()},l(e){r=c(e,"BUTTON",{class:!0});var a=n(r);t=i(a,"off"),a.forEach(o),h=d(e),p=c(e,"BUTTON",{class:!0});var s=n(p);m=i(s,"connected"),s.forEach(o),this.h()},h(){u(r,"class","bg-red-200 p-1 mx-1 active:ring-1 rounded-md text-red-700"),u(p,"class","bg-green-200 p-1 rounded-sm text-green-700")},m(e,a){f(e,r,a),g(r,t),f(e,h,a),f(e,p,a),g(p,m),b||(x=v(r,"click",k),b=!0)},p(r,t){e=r},d(e){e&&o(r),e&&o(h),e&&o(p),b=!1,x()}}}function z(e,r){let t,h,v,p,m,b,k,y=r[12]+"",E=!["public","private"].includes(r[12]),$=E&&P(r);function D(e,r){return e[17]?C:R}let w=D(r),I=w(r);return{key:e,first:null,c(){t=a("div"),h=a("div"),v=s(y),p=l(),m=a("div"),$&&$.c(),b=l(),I.c(),k=l(),this.h()},l(e){t=c(e,"DIV",{class:!0});var r=n(t);h=c(r,"DIV",{});var a=n(h);v=i(a,y),a.forEach(o),p=d(r),m=c(r,"DIV",{class:!0});var s=n(m);$&&$.l(s),b=d(s),I.l(s),s.forEach(o),k=d(r),r.forEach(o),this.h()},h(){u(m,"class","flex gap-1"),u(t,"class","flex justify-between mt-1 bg-blue-100 p-1 rounded dark:bg-gray-700 active:ring-1 ring-blue-200 dark:ring-gray-600"),this.first=t},m(e,r){f(e,t,r),g(t,h),g(h,v),g(t,p),g(t,m),$&&$.m(m,null),g(m,b),I.m(m,null),g(t,k)},p(e,t){r=e,4&t&&y!==(y=r[12]+"")&&x(v,y),4&t&&(E=!["public","private"].includes(r[12])),E?$?$.p(r,t):($=P(r),$.c(),$.m(m,b)):$&&($.d(1),$=null),w===(w=D(r))&&I?I.p(r,t):(I.d(1),I=w(r),I&&(I.c(),I.m(m,null)))},d(e){e&&o(t),$&&$.d(),I.d()}}}function K(e){let r,t,l,d;function h(){return e[10](e[13],e[12],e[14])}return{c(){r=a("button"),t=s("save"),this.h()},l(e){r=c(e,"BUTTON",{class:!0});var a=n(r);t=i(a,"save"),a.forEach(o),this.h()},h(){u(r,"class","bg-blue-200 p-1 mx-1 active:ring-1 rounded-md text-blue-700")},m(e,a){f(e,r,a),g(r,t),l||(d=v(r,"click",h),l=!0)},p(r,t){e=r},d(e){e&&o(r),l=!1,d()}}}function G(e,r){let t,h,p,m,b,k,y,E,$,D,w,I=r[12]+"",T=!r[2].find(V);function V(...e){return r[6](r[13],...e)}let B=T&&K(r);function N(){return r[11](r[13],r[12])}return{key:e,first:null,c(){t=a("div"),h=a("div"),p=s(I),m=l(),b=a("div"),B&&B.c(),k=l(),y=a("button"),E=s("disconnect"),$=l(),this.h()},l(e){t=c(e,"DIV",{class:!0});var r=n(t);h=c(r,"DIV",{});var a=n(h);p=i(a,I),a.forEach(o),m=d(r),b=c(r,"DIV",{class:!0});var s=n(b);B&&B.l(s),k=d(s),y=c(s,"BUTTON",{class:!0});var l=n(y);E=i(l,"disconnect"),l.forEach(o),s.forEach(o),$=d(r),r.forEach(o),this.h()},h(){u(y,"class","bg-red-200 p-1 mx-1 active:ring-1 rounded-md text-red-700"),u(b,"class","flex gap-1"),u(t,"class","flex justify-between mt-1 bg-blue-100 p-1 rounded dark:bg-gray-700 active:ring-1 ring-blue-200 dark:ring-gray-600"),this.first=t},m(e,r){f(e,t,r),g(t,h),g(h,p),g(t,m),g(t,b),B&&B.m(b,null),g(b,k),g(b,y),g(y,E),g(t,$),D||(w=v(y,"click",N),D=!0)},p(e,t){r=e,2&t&&I!==(I=r[12]+"")&&x(p,I),6&t&&(T=!r[2].find(V)),T?B?B.p(r,t):(B=K(r),B.c(),B.m(b,k)):B&&(B.d(1),B=null)},d(e){e&&o(t),B&&B.d(),D=!1,w()}}}function Q(e){let r,t,h,v,m,b,x,y,$,D=[],w=new Map,I=[],T=new Map,V=e[2];const B=e=>e[13];for(let a=0;a<V.length;a+=1){let r=S(e,V,a),t=B(r);w.set(t,D[a]=z(t,r))}let N=e[1];const U=e=>e[13];for(let a=0;a<N.length;a+=1){let r=M(e,N,a),t=U(r);T.set(t,I[a]=G(t,r))}return{c(){r=a("div"),t=a("h3"),h=s("Saved Drives"),v=l();for(let e=0;e<D.length;e+=1)D[e].c();m=l(),b=a("div"),x=a("h3"),y=s("Connected Drives"),$=l();for(let e=0;e<I.length;e+=1)I[e].c();this.h()},l(e){r=c(e,"DIV",{class:!0});var a=n(r);t=c(a,"H3",{class:!0});var s=n(t);h=i(s,"Saved Drives"),s.forEach(o),v=d(a);for(let r=0;r<D.length;r+=1)D[r].l(a);a.forEach(o),m=d(e),b=c(e,"DIV",{class:!0});var l=n(b);x=c(l,"H3",{class:!0});var u=n(x);y=i(u,"Connected Drives"),u.forEach(o),$=d(l);for(let r=0;r<I.length;r+=1)I[r].l(l);l.forEach(o),this.h()},h(){u(t,"class","text-blue-500 dark:text-white text-3xl"),u(r,"class",e[0]),u(x,"class","text-blue-500 dark:text-white text-3xl"),u(b,"class",e[0])},m(e,a){f(e,r,a),g(r,t),g(t,h),g(r,v);for(let t=0;t<D.length;t+=1)D[t].m(r,null);f(e,m,a),f(e,b,a),g(b,x),g(x,y),g(b,$);for(let r=0;r<I.length;r+=1)I[r].m(b,null)},p(e,[t]){20&t&&(V=e[2],D=k(D,t,B,1,e,V,w,r,E,z,null,S)),1&t&&u(r,"class",e[0]),22&t&&(N=e[1],I=k(I,t,U,1,e,N,T,b,E,G,null,M)),1&t&&u(b,"class",e[0])},i:p,o:p,d(e){e&&o(r);for(let r=0;r<D.length;r+=1)D[r].d();e&&o(m),e&&o(b);for(let r=0;r<I.length;r+=1)I[r].d()}}}function _(e,r,t){let a,s,l;const c=U.g("serverStore");y(e,c,(e=>t(5,l=e)));const n=U.g("socket");let{class:i="mt-2 p-2 rounded bg-gray-100 dark:bg-gray-600 border-gray-200 shadow border-t-2 dark:border-t-0"}=r;return e.$$set=e=>{"class"in e&&t(0,i=e.class)},e.$$.update=()=>{32&e.$$.dirty&&t(1,a=(null==l?void 0:l.drives)||[]),32&e.$$.dirty&&t(2,s=(null==l?void 0:l.savedDrives)||[])},[i,a,s,c,n,l,(e,r)=>r.key===e,(e,r)=>n.signal("delete-drive",{key:e,name:r}),(e,r)=>n.signal("close-drive",{key:e,name:r}),(e,r,t)=>n.signal("connect-drive",{key:e,name:r,host:t}),(e,r,t)=>n.signal("save-drive",{key:e,name:r,host:t}),(e,r)=>n.signal("close-drive",{key:e,name:r})]}class q extends e{constructor(e){super(),r(this,e,_,Q,t,{class:0})}}function F(e,r,t){const a=e.slice();return a[6]=r[t].pid,a[7]=r[t].cm,a}function J(e,r){let t,h,p,m,b,k,y,E,$,D,w,I,T=r[7]+"",V=r[6]+"";function B(){return r[5](r[6])}return{key:e,first:null,c(){t=a("div"),h=a("div"),p=s(T),m=l(),b=a("div"),k=s(V),y=l(),E=a("button"),$=s("kill"),D=l(),this.h()},l(e){t=c(e,"DIV",{class:!0});var r=n(t);h=c(r,"DIV",{});var a=n(h);p=i(a,T),a.forEach(o),m=d(r),b=c(r,"DIV",{});var s=n(b);k=i(s,V),s.forEach(o),y=d(r),E=c(r,"BUTTON",{class:!0});var l=n(E);$=i(l,"kill"),l.forEach(o),D=d(r),r.forEach(o),this.h()},h(){u(E,"class","text-white bg-red-500 btn"),u(t,"class","flex justify-between mt-1 bg-blue-100 p-1 rounded dark:bg-gray-700 ring-blue-200 dark:ring-gray-600"),this.first=t},m(e,r){f(e,t,r),g(t,h),g(h,p),g(t,m),g(t,b),g(b,k),g(t,y),g(t,E),g(E,$),g(t,D),w||(I=v(E,"click",B),w=!0)},p(e,t){r=e,2&t&&T!==(T=r[7]+"")&&x(p,T),2&t&&V!==(V=r[6]+"")&&x(k,V)},d(e){e&&o(t),w=!1,I()}}}function W(e){let r,t,h,v,m=[],b=new Map,x=e[1];const y=e=>e[6];for(let a=0;a<x.length;a+=1){let r=F(e,x,a),t=y(r);b.set(t,m[a]=J(t,r))}return{c(){r=a("div"),t=a("h3"),h=s("child process"),v=l();for(let e=0;e<m.length;e+=1)m[e].c();this.h()},l(e){r=c(e,"DIV",{class:!0});var a=n(r);t=c(a,"H3",{class:!0});var s=n(t);h=i(s,"child process"),s.forEach(o),v=d(a);for(let r=0;r<m.length;r+=1)m[r].l(a);a.forEach(o),this.h()},h(){u(t,"class","text-blue-500 dark:text-white text-3xl"),u(r,"class",e[0])},m(e,a){f(e,r,a),g(r,t),g(t,h),g(r,v);for(let t=0;t<m.length;t+=1)m[t].m(r,null)},p(e,[t]){10&t&&(x=e[1],m=k(m,t,y,1,e,x,b,r,E,J,null,F)),1&t&&u(r,"class",e[0])},i:p,o:p,d(e){e&&o(r);for(let r=0;r<m.length;r+=1)m[r].d()}}}function X(e,r,t){let a,s;const l=U.g("serverStore");y(e,l,(e=>t(4,s=e)));const c=U.g("socket");let{class:n="mt-2 p-2 rounded bg-gray-100 dark:bg-gray-600 border-gray-200 shadow border-t-2 dark:border-t-0"}=r;return e.$$set=e=>{"class"in e&&t(0,n=e.class)},e.$$.update=()=>{16&e.$$.dirty&&t(1,a=(null==s?void 0:s.child_processes)||[])},[n,a,l,c,s,e=>c.signal("child-process:kill",e)]}class Y extends e{constructor(e){super(),r(this,e,X,W,t,{class:0})}}function Z(e){let r,t,h,v,m,b,x,k,y,E,U,O,j,L,A,M,S,P,R,C;return k=new N({}),U=new H({}),j=new q({props:{class:"mt-2 p-2 rounded-lg border-gray-500 shadow-sm border-[.3px] text-gray-800 text-xl  dark:text-blue-100"}}),A=new Y({props:{class:" mt-2  p-2 rounded-lg border-gray-500 shadow-sm border-[.3px] text-gray-800 text-xl  dark:text-blue-100"}}),{c(){r=l(),t=a("div"),h=a("div"),v=a("h3"),m=s("Drive Manager"),b=l(),x=a("div"),$(k.$$.fragment),y=l(),E=a("div"),$(U.$$.fragment),O=l(),$(j.$$.fragment),L=l(),$(A.$$.fragment),M=l(),S=a("div"),P=a("h3"),R=s("chat Manager"),this.h()},l(e){D('[data-svelte="svelte-1cut4df"]',document.head).forEach(o),r=d(e),t=c(e,"DIV",{class:!0});var a=n(t);h=c(a,"DIV",{class:!0});var s=n(h);v=c(s,"H3",{class:!0});var l=n(v);m=i(l,"Drive Manager"),l.forEach(o),b=d(s),x=c(s,"DIV",{class:!0});var u=n(x);w(k.$$.fragment,u),u.forEach(o),y=d(s),E=c(s,"DIV",{class:!0});var f=n(E);w(U.$$.fragment,f),f.forEach(o),O=d(s),w(j.$$.fragment,s),L=d(s),w(A.$$.fragment,s),s.forEach(o),M=d(a),S=c(a,"DIV",{class:!0});var g=n(S);P=c(g,"H3",{});var p=n(P);R=i(p,"chat Manager"),p.forEach(o),g.forEach(o),a.forEach(o),this.h()},h(){document.title="Hyp",u(v,"class","text-blue-500 dark:text-white text-5xl"),u(x,"class","flex justify-between flex-wrap text-gray-900"),u(E,"class"," mt-2  p-2 rounded-lg border-gray-500 shadow-sm border-[.3px] text-gray-800 text-xl  dark:text-blue-100"),u(h,"class","w-full h-full  mt-2 p-2 border-gray-200 dark:border-t-0"),u(S,"class","w-full h-full border border-gray-500"),u(t,"class","flex justify-between h-full mx-2 gap-2 flex-grow flex-wrap bg-gray-50 dark:bg-gray-800 rounded-sm dark:text-blue-100 select-none")},m(e,a){f(e,r,a),f(e,t,a),g(t,h),g(h,v),g(v,m),g(h,b),g(h,x),I(k,x,null),g(h,y),g(h,E),I(U,E,null),g(h,O),I(j,h,null),g(h,L),I(A,h,null),g(t,M),g(t,S),g(S,P),g(P,R),C=!0},p:p,i(e){C||(T(k.$$.fragment,e),T(U.$$.fragment,e),T(j.$$.fragment,e),T(A.$$.fragment,e),C=!0)},o(e){V(k.$$.fragment,e),V(U.$$.fragment,e),V(j.$$.fragment,e),V(A.$$.fragment,e),C=!1},d(e){e&&o(r),e&&o(t),B(k),B(U),B(j),B(A)}}}class ee extends e{constructor(e){super(),r(this,e,null,Z,t,{})}}export{ee as default};

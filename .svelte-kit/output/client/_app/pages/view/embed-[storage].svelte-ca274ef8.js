import{S as e,i as t,s,k as a,e as r,a9 as c,d as n,n as p,c as i,b as o,f as l,Q as u}from"../../chunks/vendor-51b7d296.js";import{A as y}from"../../chunks/getAPi-d548b28c.js";function d(e){let t,s,y,d;return document.title=t=e[2],{c(){s=a(),y=r("embed"),this.h()},l(e){c('[data-svelte="svelte-2cqwjb"]',document.head).forEach(n),s=p(e),y=i(e,"EMBED",{src:!0,type:!0,class:!0}),this.h()},h(){y.src!==(d=e[0])&&o(y,"src",d),o(y,"type",e[1]),o(y,"class","flex-grow")},m(e,t){l(e,s,t),l(e,y,t)},p(e,[s]){4&s&&t!==(t=e[2])&&(document.title=t),1&s&&y.src!==(d=e[0])&&o(y,"src",d),2&s&&o(y,"type",e[1])},i:u,o:u,d(e){e&&n(s),e&&n(y)}}}async function f({page:e,fetch:t,session:s,context:a}){const r={storage:e.params.storage,path:escape(e.query.get("path")),ctype:e.query.get("ctype"),dkey:e.query.get("dkey"),size:e.query.get("size")},c=y+`/pdf?storage=${r.storage}&dkey=${r.dkey}&ctype=${r.ctype}&size=${r.size}&path=${r.path}`,n=r.path.split("/").reverse()[0];return{props:{ctype:r.ctype,url:c,filename:n}}}function h(e,t,s){let{url:a}=t,{ctype:r}=t,{filename:c}=t;return e.$$set=e=>{"url"in e&&s(0,a=e.url),"ctype"in e&&s(1,r=e.ctype),"filename"in e&&s(2,c=e.filename)},[a,r,c]}class m extends e{constructor(e){super(),t(this,e,h,d,s,{url:0,ctype:1,filename:2})}}export{m as default,f as load};

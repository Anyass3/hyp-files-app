import{S as t,i as e,s as a,ac as s,c as n,a as r,d as l,b as o,_ as i,f as c,E as d,Q as h,e as f,j as u,m as p,o as g,x as m,u as $,v,k as x,n as b,D as w,r as k,w as y,R as E,ad as I,ae as j,af as D,t as V,g as O,U as T,ag as N,h as z,ah as P,ai as S,aj as A,I as B,J as _,O as F,$ as M,l as U,G as C,ak as L,al as R,am as W,an as q,a9 as G,F as J,V as Q,ao as X,T as Y,W as H}from"../chunks/vendor-51b7d296.js";import{s as K}from"../chunks/index-16bd9a46.js";import{g as Z,b as tt,I as et,c as at}from"../chunks/getAPi-d548b28c.js";import{S as st}from"../chunks/storage-select-7f98a06b.js";import"../chunks/singletons-bb9012b7.js";function nt(t){let e,a,f;return{c(){e=s("svg"),a=s("circle"),this.h()},l(t){e=n(t,"svg",{height:!0,width:!0,style:!0,class:!0,viewBox:!0},1);var s=r(e);a=n(s,"circle",{role:!0,cx:!0,cy:!0,r:!0,stroke:!0,fill:!0,"stroke-width":!0,"stroke-dasharray":!0,"stroke-linecap":!0},1),r(a).forEach(l),s.forEach(l),this.h()},h(){o(a,"role","presentation"),o(a,"cx","50"),o(a,"cy","50"),o(a,"r",t[4]),o(a,"stroke",t[2]),o(a,"fill","none"),o(a,"stroke-width",t[3]),o(a,"stroke-dasharray",f=t[5]+",100"),o(a,"stroke-linecap","round"),o(e,"height",t[0]),o(e,"width",t[0]),i(e,"animation-duration",t[1]+"ms"),o(e,"class","svelte-spinner svelte-17s643t"),o(e,"viewBox","0 0 100 100")},m(t,s){c(t,e,s),d(e,a)},p(t,[s]){16&s&&o(a,"r",t[4]),4&s&&o(a,"stroke",t[2]),8&s&&o(a,"stroke-width",t[3]),32&s&&f!==(f=t[5]+",100")&&o(a,"stroke-dasharray",f),1&s&&o(e,"height",t[0]),1&s&&o(e,"width",t[0]),2&s&&i(e,"animation-duration",t[1]+"ms")},i:h,o:h,d(t){t&&l(e)}}}function rt(t,e,a){let s,{size:n=60}=e,{speed:r=850}=e,{color:l="rgba(0,0,0,0.4)"}=e,{thickness:o=6}=e,{gap:i=60}=e,{radius:c=45}=e;return t.$$set=t=>{"size"in t&&a(0,n=t.size),"speed"in t&&a(1,r=t.speed),"color"in t&&a(2,l=t.color),"thickness"in t&&a(3,o=t.thickness),"gap"in t&&a(6,i=t.gap),"radius"in t&&a(4,c=t.radius)},t.$$.update=()=>{80&t.$$.dirty&&a(5,s=2*Math.PI*c*(100-i)/100)},[n,r,l,o,c,s,i]}class lt extends t{constructor(t){super(),e(this,t,rt,nt,a,{size:0,speed:1,color:2,thickness:3,gap:6,radius:4})}}function ot(t,e,a){const s=t.slice();return s[11]=e[a].name,s[12]=e[a].path,s[13]=e[a].stat,s}function it(t){let e,a,s;return a=new lt({}),{c(){e=f("div"),u(a.$$.fragment),this.h()},l(t){e=n(t,"DIV",{class:!0});var s=r(e);p(a.$$.fragment,s),s.forEach(l),this.h()},h(){o(e,"class","grid place-items-center w-full pt-10")},m(t,n){c(t,e,n),g(a,e,null),s=!0},i(t){s||(m(a.$$.fragment,t),s=!0)},o(t){$(a.$$.fragment,t),s=!1},d(t){t&&l(e),v(a)}}}function ct(t){let e,a;return{c(){e=f("div"),a=V("this folder is empty"),this.h()},l(t){e=n(t,"DIV",{class:!0});var s=r(e);a=O(s,"this folder is empty"),s.forEach(l),this.h()},h(){o(e,"class","text-4xl md:text-7xl text-blue-400 dark:text-blue-300 p-3 md:p-4 lg:p-6")},m(t,s){c(t,e,s),d(e,a)},p:h,i:h,o:h,d(t){t&&l(e)}}}function dt(t){let e,a,s=[],n=new Map,r=t[0];const o=t=>t[12];for(let l=0;l<r.length;l+=1){let e=ot(t,r,l),a=o(e);n.set(a,s[l]=ut(a,e))}return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=U()},l(t){for(let e=0;e<s.length;e+=1)s[e].l(t);e=U()},m(t,n){for(let e=0;e<s.length;e+=1)s[e].m(t,n);c(t,e,n),a=!0},p(t,a){if(49&a){r=t[0],k();for(let t=0;t<s.length;t+=1)s[t].r();s=C(s,a,o,1,t,r,n,e.parentNode,L,ut,e,ot);for(let t=0;t<s.length;t+=1)s[t].a();y()}},i(t){if(!a){for(let t=0;t<r.length;t+=1)m(s[t]);a=!0}},o(t){for(let e=0;e<s.length;e+=1)$(s[e]);a=!1},d(t){for(let e=0;e<s.length;e+=1)s[e].d(t);t&&l(e)}}}function ht(t){let e,a;return e=new R({props:{size:"4x"}}),{c(){u(e.$$.fragment)},l(t){p(e.$$.fragment,t)},m(t,s){g(e,t,s),a=!0},i(t){a||(m(e.$$.fragment,t),a=!0)},o(t){$(e.$$.fragment,t),a=!1},d(t){v(e,t)}}}function ft(t){let e,a;return e=new W({props:{size:"4x"}}),{c(){u(e.$$.fragment)},l(t){p(e.$$.fragment,t)},m(t,s){g(e,t,s),a=!0},i(t){a||(m(e.$$.fragment,t),a=!0)},o(t){$(e.$$.fragment,t),a=!1},d(t){v(e,t)}}}function ut(t,e){let a,s,i,u,p,g,v,w,E,I,j,D,U,C,L,R,W,G,J,Q,X,Y,H,K,Z,et,at,st,nt,rt,lt=tt(e[11])+"",ot=e[11]+"",it=e[13].size+"",ct=e[13].isFile?"file":"folder",dt=h;const ut=[ft,ht],pt=[];function gt(t,e){return!0===t[13].isFile||!1!==t[13].isFile&&"dir"!==t[13].isFile?0:1}function mt(){return e[8](e[12],e[13])}function $t(...t){return e[9](e[11],e[12],e[13],...t)}return p=gt(e),g=pt[p]=ut[p](e),{key:t,first:null,c(){a=f("div"),s=f("div"),i=f("button"),u=f("div"),g.c(),v=x(),w=f("p"),E=V(lt),I=x(),j=f("div"),D=f("div"),U=f("span"),C=V("name: "),L=V(ot),R=x(),W=f("span"),G=V("size: "),J=V(it),Q=x(),X=f("span"),Y=V("type: "),H=V(ct),K=x(),this.h()},l(t){a=n(t,"DIV",{class:!0,tabindex:!0});var e=r(a);s=n(e,"DIV",{class:!0});var o=r(s);i=n(o,"BUTTON",{class:!0});var c=r(i);u=n(c,"DIV",{class:!0});var d=r(u);g.l(d),d.forEach(l),v=b(c),w=n(c,"P",{class:!0});var h=r(w);E=O(h,lt),h.forEach(l),c.forEach(l),o.forEach(l),I=b(e),j=n(e,"DIV",{class:!0});var f=r(j);D=n(f,"DIV",{class:!0});var p=r(D);U=n(p,"SPAN",{class:!0});var m=r(U);C=O(m,"name: "),L=O(m,ot),m.forEach(l),R=b(p),W=n(p,"SPAN",{});var $=r(W);G=O($,"size: "),J=O($,it),$.forEach(l),Q=b(p),X=n(p,"SPAN",{});var x=r(X);Y=O(x,"type: "),H=O(x,ct),x.forEach(l),p.forEach(l),f.forEach(l),K=b(e),e.forEach(l),this.h()},h(){o(u,"class","flex justify-center"),o(w,"class","text-semibold text-center select-none dark:text-white"),o(i,"class","bg-gray-200 text-gray-800 dark:bg-gray-600 dark:text-white group-hover:bg-gray-300 rounded-[3px]  dark:group-hover:bg-gray-500 active:ring cursor-pointer w-36 h-24 overflow-hidden"),o(s,"class","relative"),o(U,"class","text-semibold whitespace-wrap"),o(D,"class","flex flex-col"),o(j,"class","tooltip"),o(a,"class","group anchor-tooltip context-menu__item"),o(a,"tabindex","-1"),this.first=a},m(t,e){c(t,a,e),d(a,s),d(s,i),d(i,u),pt[p].m(u,null),d(i,v),d(i,w),d(w,E),d(a,I),d(a,j),d(j,D),d(D,U),d(U,C),d(U,L),d(D,R),d(D,W),d(W,G),d(W,J),d(D,Q),d(D,X),d(X,Y),d(X,H),d(a,K),st=!0,nt||(rt=[T(i,"dblclick",mt),T(a,"contextmenu",N($t))],nt=!0)},p(t,a){let s=p;p=gt(e=t),p!==s&&(k(),$(pt[s],1,1,(()=>{pt[s]=null})),y(),g=pt[p],g||(g=pt[p]=ut[p](e),g.c()),m(g,1),g.m(u,null)),(!st||1&a)&&lt!==(lt=tt(e[11])+"")&&z(E,lt),(!st||1&a)&&ot!==(ot=e[11]+"")&&z(L,ot),(!st||1&a)&&it!==(it=e[13].size+"")&&z(J,it),(!st||1&a)&&ct!==(ct=e[13].isFile?"file":"folder")&&z(H,ct)},r(){at=a.getBoundingClientRect()},f(){P(a),dt(),S(a,at)},a(){dt(),dt=A(a,at,q,{duration:50})},i(t){st||(m(g),B((()=>{et&&et.end(1),Z||(Z=_(a,e[7],{key:e[12]})),Z.start()})),st=!0)},o(t){$(g),Z&&Z.invalidate(),et=F(a,e[6],{key:e[12]}),st=!1},d(t){t&&l(a),pt[p].d(),t&&et&&et.end(),nt=!1,M(rt)}}}function pt(t){let e,a,s,i,h,u,p="load-page"===t[1]&&it();const g=[dt,ct],v=[];function E(t,e){var a;return(null==(a=t[0])?void 0:a.length)?0:1}return i=E(t),h=v[i]=g[i](t),{c(){e=f("div"),p&&p.c(),a=x(),s=f("div"),h.c(),this.h()},l(t){e=n(t,"DIV",{"data-main-menu":!0});var o=r(e);p&&p.l(o),a=b(o),s=n(o,"DIV",{"data-main-menu":!0,class:!0});var i=r(s);h.l(i),i.forEach(l),o.forEach(l),this.h()},h(){o(s,"data-main-menu",!0),o(s,"class","flex justify-between gap-2 flex-wrap pt-1"),w(s,"hidden","load-page"===t[1]),o(e,"data-main-menu",!0)},m(t,n){c(t,e,n),p&&p.m(e,null),d(e,a),d(e,s),v[i].m(s,null),u=!0},p(t,[n]){"load-page"===t[1]?p?2&n&&m(p,1):(p=it(),p.c(),m(p,1),p.m(e,a)):p&&(k(),$(p,1,1,(()=>{p=null})),y());let r=i;i=E(t),i===r?v[i].p(t,n):(k(),$(v[r],1,1,(()=>{v[r]=null})),y(),h=v[i],h?h.p(t,n):(h=v[i]=g[i](t),h.c()),m(h,1),h.m(s,null)),2&n&&w(s,"hidden","load-page"===t[1])},i(t){u||(m(p),m(h),u=!0)},o(t){$(p),$(h),u=!1},d(t){t&&l(e),p&&p.d(),v[i].d()}}}function gt(t,e,a){let s,n;const r=K.g("folder");E(t,r,(t=>a(0,s=t)));const l=K.g("loading");E(t,l,(t=>a(1,n=t)));const o=I();function i(t,e){o("open",Object.assign(Object.assign({},e),{path:t}))}function c(t,e,a,s){const n=Z(t);o("contextmenu",Object.assign(Object.assign({},s),{path:a,name:e,pos:n}))}const[d,h]=j({duration:t=>Math.sqrt(200*t),fallback(t,e){const a=getComputedStyle(t),s="none"===a.transform?"":a.transform;return{duration:600,easing:D,css:t=>`\n\t\t\t\t\ttransform: ${s} scale(${t});\n\t\t\t\t\topacity: ${t}\n\t\t\t\t`}}});return t.$$.update=()=>{1&t.$$.dirty&&console.log("files",s)},[s,n,r,l,i,c,d,h,(t,e)=>i(t,e),(t,e,a,s)=>c(s,t,e,a)]}class mt extends t{constructor(t){super(),e(this,t,gt,pt,a,{})}}function $t(t,e,a){const s=t.slice();return s[29]=e[a],s}function vt(t){let e,a,s=t[6],n=[];for(let l=0;l<s.length;l+=1)n[l]=kt($t(t,s,l));const r=t=>$(n[t],1,1,(()=>{n[t]=null}));return{c(){for(let t=0;t<n.length;t+=1)n[t].c();e=U()},l(t){for(let e=0;e<n.length;e+=1)n[e].l(t);e=U()},m(t,s){for(let e=0;e<n.length;e+=1)n[e].m(t,s);c(t,e,s),a=!0},p(t,a){if(16448&a[0]){let l;for(s=t[6],l=0;l<s.length;l+=1){const r=$t(t,s,l);n[l]?(n[l].p(r,a),m(n[l],1)):(n[l]=kt(r),n[l].c(),m(n[l],1),n[l].m(e.parentNode,e))}for(k(),l=s.length;l<n.length;l+=1)r(l);y()}},i(t){if(!a){for(let t=0;t<s.length;t+=1)m(n[t]);a=!0}},o(t){n=n.filter(Boolean);for(let e=0;e<n.length;e+=1)$(n[e]);a=!1},d(t){H(n,t),t&&l(e)}}}function xt(t){let e,a,s,i,w,k,y,E,I,j,D="root";return i=new R({props:{size:"1x",class:" w-6 h-6 md:h-8 md:w-8"}}),{c(){e=f("button"),a=f("div"),s=f("span"),u(i.$$.fragment),w=x(),k=f("span"),y=V(D),this.h()},l(t){e=n(t,"BUTTON",{class:!0});var o=r(e);a=n(o,"DIV",{class:!0});var c=r(a);s=n(c,"SPAN",{class:!0});var d=r(s);p(i.$$.fragment,d),d.forEach(l),w=b(c),k=n(c,"SPAN",{class:!0});var h=r(k);y=O(h,D),h.forEach(l),c.forEach(l),o.forEach(l),this.h()},h(){o(s,"class","text-blue-500  dark:text-blue-100 dark:active:text-blue-300 active:text-blue-500 cursor-pointer border-2 border-gray-400 dark:border-gray-200 rounded"),o(k,"class","tooltip"),o(a,"class","flex"),o(e,"class","anchor-tooltip")},m(n,r){c(n,e,r),d(e,a),d(a,s),g(i,s,null),d(a,w),d(a,k),d(k,y),E=!0,I||(j=T(s,"click",t[20]),I=!0)},p:h,i(t){E||(m(i.$$.fragment,t),E=!0)},o(t){$(i.$$.fragment,t),E=!1},d(t){t&&l(e),v(i),I=!1,j()}}}function bt(t){let e,a=tt(t[29].name)+"";return{c(){e=V(a)},l(t){e=O(t,a)},m(t,a){c(t,e,a)},p(t,s){64&s[0]&&a!==(a=tt(t[29].name)+"")&&z(e,a)},i:h,o:h,d(t){t&&l(e)}}}function wt(t){let e,a;return e=new R({props:{class:" w-6 h-6 md:h-8 md:w-8"}}),{c(){u(e.$$.fragment)},l(t){p(e.$$.fragment,t)},m(t,s){g(e,t,s),a=!0},p:h,i(t){a||(m(e.$$.fragment,t),a=!0)},o(t){$(e.$$.fragment,t),a=!1},d(t){v(e,t)}}}function kt(t){let e,a,s,i,h,u,p,g,v,w,E,I,j=t[29].name+"";const D=[wt,bt],N=[];function P(t,e){return"root"===t[29].name?0:1}function S(){return t[21](t[29])}return i=P(t),h=N[i]=D[i](t),{c(){e=f("button"),a=f("div"),s=f("span"),h.c(),u=x(),p=f("span"),g=V(j),v=x(),this.h()},l(t){e=n(t,"BUTTON",{class:!0});var o=r(e);a=n(o,"DIV",{class:!0});var i=r(a);s=n(i,"SPAN",{class:!0});var c=r(s);h.l(c),c.forEach(l),u=b(i),p=n(i,"SPAN",{class:!0});var d=r(p);g=O(d,j),d.forEach(l),i.forEach(l),v=b(o),o.forEach(l),this.h()},h(){o(s,"class","text-blue-600 dark:text-blue-100 dark:active:text-blue-300 active:text-blue-400 cursor-pointer border-2 border-gray-400 dark:border-gray-200 rounded"),o(p,"class","tooltip"),o(a,"class","flex"),o(e,"class","anchor-tooltip")},m(t,n){c(t,e,n),d(e,a),d(a,s),N[i].m(s,null),d(a,u),d(a,p),d(p,g),d(e,v),w=!0,E||(I=T(s,"click",S),E=!0)},p(e,a){let n=i;i=P(t=e),i===n?N[i].p(t,a):(k(),$(N[n],1,1,(()=>{N[n]=null})),y(),h=N[i],h?h.p(t,a):(h=N[i]=D[i](t),h.c()),m(h,1),h.m(s,null)),(!w||64&a[0])&&j!==(j=t[29].name+"")&&z(g,j)},i(t){w||(m(h),w=!0)},o(t){$(h),w=!1},d(t){t&&l(e),N[i].d(),E=!1,I()}}}function yt(t){let e,a,s;return a=new lt({}),{c(){e=f("div"),u(a.$$.fragment),this.h()},l(t){e=n(t,"DIV",{class:!0});var s=r(e);p(a.$$.fragment,s),s.forEach(l),this.h()},h(){o(e,"class","grid place-items-center")},m(t,n){c(t,e,n),g(a,e,null),s=!0},i(t){s||(m(a.$$.fragment,t),s=!0)},o(t){$(a.$$.fragment,t),s=!1},d(t){t&&l(e),v(a)}}}function Et(t){let e,a,s,i,h,E,I,j,D,N,z,P,S,A,_,F,U,C,L,R,W,q,X,Y,H=!1,K=()=>{H=!1};B(t[19]);const Z=[xt,vt],tt=[];function nt(t,e){return"/"===t[3]?0:1}E=nt(t),I=tt[E]=Z[E](t),_=new st({}),U=new mt({}),U.$on("contextmenu",t[23]),U.$on("open",t[24]);let rt="load-next-page"===t[9]&&yt();return{c(){a=x(),s=f("div"),i=f("div"),h=f("div"),I.c(),j=x(),D=f("div"),N=f("button"),z=f("label"),P=V("hidden"),S=f("input"),A=x(),u(_.$$.fragment),F=x(),u(U.$$.fragment),C=x(),rt&&rt.c(),L=x(),R=f("div"),this.h()},l(t){G('[data-svelte="svelte-143rx09"]',document.head).forEach(l),a=b(t),s=n(t,"DIV",{class:!0,id:!0});var e=r(s);i=n(e,"DIV",{class:!0});var o=r(i);h=n(o,"DIV",{class:!0});var c=r(h);I.l(c),c.forEach(l),j=b(o),D=n(o,"DIV",{class:!0});var d=r(D);N=n(d,"BUTTON",{});var f=r(N);z=n(f,"LABEL",{for:!0,class:!0});var u=r(z);P=O(u,"hidden"),u.forEach(l),S=n(f,"INPUT",{id:!0,type:!0}),f.forEach(l),A=b(d),p(_.$$.fragment,d),d.forEach(l),o.forEach(l),F=b(e),p(U.$$.fragment,e),C=b(e),rt&&rt.l(e),L=b(e),R=n(e,"DIV",{class:!0}),r(R).forEach(l),e.forEach(l),this.h()},h(){document.title="File Manager",o(h,"class","flex text-base md:text-2xl overflow-x-auto gap-1"),o(z,"for","show-hidden"),o(z,"class","text-blue-600 text-2xl dark:text-blue-100 dark:active:text-blue-300 active:text-blue-400 cursor-pointer px-1"),o(S,"id","show-hidden"),o(S,"type","checkbox"),o(D,"class","flex gap-1"),o(i,"class","flex justify-between flex-wrap flex-col-reverse md:flex-row sticky z-10 top-[7%] md:top-[13%] bg-white dark:bg-gray-800 shadow border-b-2 pb-1"),w(i,"hidden",t[8]),o(R,"class","w-full h-1"),o(s,"class","px-2 flex-grow md:px-10 relative"),o(s,"id","file-manager")},m(n,r){c(n,a,r),c(n,s,r),d(s,i),d(i,h),tt[E].m(h,null),d(i,j),d(i,D),d(D,N),d(N,z),d(z,P),d(N,S),S.checked=t[5],d(D,A),g(_,D,null),d(s,F),g(U,s,null),d(s,C),rt&&rt.m(s,null),d(s,L),d(s,R),q=!0,X||(Y=[T(window,"scroll",(function(){Q(at(t[18],1e4))&&at(t[18],1e4).apply(this,arguments)}),{passive:!0}),T(window,"scroll",(()=>{H=!0,clearTimeout(e),e=setTimeout(K,100),t[19]()})),T(S,"change",t[22]),J(W=et.call(null,R,{isIntersecting:t[25],unobserve:!0})),T(s,"contextmenu",t[16])],X=!0)},p(a,n){t=a,1&n[0]&&!H&&(H=!0,clearTimeout(e),scrollTo(window.pageXOffset,t[0]),e=setTimeout(K,100));let r=E;E=nt(t),E===r?tt[E].p(t,n):(k(),$(tt[r],1,1,(()=>{tt[r]=null})),y(),I=tt[E],I?I.p(t,n):(I=tt[E]=Z[E](t),I.c()),m(I,1),I.m(h,null)),32&n[0]&&(S.checked=t[5]),256&n[0]&&w(i,"hidden",t[8]),"load-next-page"===t[9]?rt?512&n[0]&&m(rt,1):(rt=yt(),rt.c(),m(rt,1),rt.m(s,L)):rt&&(k(),$(rt,1,1,(()=>{rt=null})),y()),W&&Q(W.update)&&572&n[0]&&W.update.call(null,{isIntersecting:t[25],unobserve:!0})},i(t){q||(m(I),m(_.$$.fragment,t),m(U.$$.fragment,t),m(rt),q=!0)},o(t){$(I),$(_.$$.fragment,t),$(U.$$.fragment,t),$(rt),q=!1},d(t){t&&l(a),t&&l(s),tt[E].d(),v(_),v(U),rt&&rt.d(),X=!1,M(Y)}}}function It(t,e,a){let s,n,r,l,o,i,c,d,f,u,p=h;t.$$.on_destroy.push((()=>p()));var g=this&&this.__awaiter||function(t,e,a,s){return new(a||(a=Promise))((function(n,r){function l(t){try{i(s.next(t))}catch(e){r(e)}}function o(t){try{i(s.throw(t))}catch(e){r(e)}}function i(t){var e;t.done?n(t.value):(e=t.value,e instanceof a?e:new a((function(t){t(e)}))).then(l,o)}i((s=s.apply(t,e||[])).next())}))};const m=K.g("dkey");E(t,m,(t=>a(2,i=t)));const $=K.g("loading");E(t,$,(t=>a(9,u=t)));const v=K.g("show_hidden");E(t,v,(t=>a(5,f=t)));const x=K.g("pos");E(t,x,(t=>a(27,d=t)));const b=(t={})=>g(void 0,void 0,void 0,(function*(){K.dispatch("open",Object.assign(Object.assign({},t),l))})),w=t=>g(void 0,void 0,void 0,(function*(){Y(x,d=t.pos,d),K.dispatch("setupMenuItems",Object.assign(Object.assign({},t),l))}));let k,y=0,I=y;return t.$$.update=()=>{4&t.$$.dirty[0]&&(a(7,s=K.g("dirs",i)),p(),p=X(s,(t=>a(17,c=t)))),131076&t.$$.dirty[0]&&a(3,n=c[i]),4&t.$$.dirty[0]&&a(4,r="fs"!==i?"drive":"fs"),28&t.$$.dirty[0]&&(l={dkey:i,dir:n,storage:r}),8&t.$$.dirty[0]&&a(6,k=n.split("/").reduce(((t,e)=>{let a;return a=0===t.length?e||"":"/"===t[t.length-1].path?"/"+e:t[t.length-1].path+"/"+e,[...t,{name:e||"root",path:a||"/"}]}),[])),36&t.$$.dirty[0]&&b(),3&t.$$.dirty[0]&&a(8,o=y>I)},[y,I,i,n,r,f,k,s,o,u,m,$,v,x,b,w,t=>g(void 0,void 0,void 0,(function*(){if("file-manager"===t.target.id){t.preventDefault(),Y(x,d=Z(t),d);const e=l.dir.endsWith("/")?l.dir.split("/").reverse()[1]:l.dir.split("/").reverse()[0];K.dispatch("setupMainMenuItems",Object.assign(Object.assign({},l),{name:e}))}})),c,()=>{a(1,I=y)},function(){a(0,y=window.pageYOffset)},()=>b({path:"/"}),t=>b({path:t.path}),function(){f=this.checked,v.set(f)},({detail:t})=>w(t),t=>b(t.detail),()=>{const t=K.state.pagination;if(t.has_next){t.next();const e={dir:n,offset:t.offset,page:t.page,show_hidden:f};"drive"===r&&(e.dkey=i),K.state.socket.signal(`${r}-list`,e),Y($,u="load-next-page",u)}}]}class jt extends t{constructor(t){super(),e(this,t,It,Et,a,{},[-1,-1])}}export{jt as default};
